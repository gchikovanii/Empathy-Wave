@page "/contact"
@using EmphatyWave.Web.Services.Contacts
@inject ContactService ContactService
@rendermode InteractiveServer

<div class="loading-overlay" style="@(isLoading ? "display: flex;" : "display: none;")">
    <div class="spinner">
        <div class="wave wave1"></div>
        <div class="wave wave2"></div>
        <div class="wave wave3"></div>
    </div>
</div>

<section class="py-3 py-md-5 py-xl-8">
    <div class="container">
        <div class="row justify-content-md-center">
            <div class="col-12 col-md-10 col-lg-8 col-xl-7 col-xxl-6">
                <h2 class="mb-4 display-5 text-center text-pink">Need Help</h2>
                <p class="text-secondary mb-5 text-center lead fs-4 text-pink">Our team is available to provide prompt and helpful responses to all inquiries. You can reach us via phone, email, or by filling out the contact form below.</p>
                <hr class="w-50 mx-auto mb-5 mb-xl-9 border-pink">
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="card border-pink rounded shadow-sm overflow-hidden">
                    <div class="card-body p-0">
                        <div class="row gy-3 gy-md-4 gy-lg-0">
                            <div class="col-12 col-lg-6 bsb-overlay background-position-center background-size-cover" style="--bsb-overlay-opacity: 0.2; background-image: url('https://cdn.leonardo.ai/users/db0e87a4-a851-4fb5-8423-837aa3eb7bf7/generations/eb50eeb1-cadb-45b4-8c91-b7d8c2ff3641/Default_Serene_and_ethereal_scene_depicting_the_majestic_Georg_3.jpg');">
                                <div class="row align-items-lg-center justify-content-center h-100">
                                    <div class="col-11 col-xl-10">
                                        <div class="contact-info-wrapper py-4 py-xl-5">
                                            <h2 class="h1 mb-3 text-light">Get in touch</h2>
                                            <p class="lead fs-4 text-light opacity-75 mb-4 mb-xxl-5">We're always on the lookout to work with new clients. If you're interested in working with us, please get in touch in one of the following ways.</p>
                                            <div class="d-flex mb-4 mb-xxl-5">
                                                <div class="me-4 text-pink">
                                                    <i class="fa-solid fa-location-dot icustom"></i>
                                                </div>
                                                <div>
                                                    <h4 class="mb-3 text-light">Address</h4>
                                                    <address class="mb-0 text-light opacity-75">01863 Mebrdzolta qucha 55, Tbilisi, Georgia</address>
                                                </div>
                                            </div>
                                            <div class="row mb-4 mb-xxl-5">
                                                <div class="col-12 col-xxl-6">
                                                    <div class="d-flex mb-4 mb-xxl-0">
                                                        <div class="me-4 text-pink">
                                                            <i class="fa-solid fa-phone icustom"></i>
                                                        </div>
                                                        <div>
                                                            <h4 class="mb-3 text-light">Phone</h4>
                                                            <p class="mb-0">
                                                                <a class="link-light link-opacity-75 link-opacity-100-hover text-decoration-none" href="tel:+574093134">+995 574 09 31 34</a>
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-xxl-6">
                                                    <div class="d-flex mb-0">
                                                        <div class="me-4 text-pink">
                                                            <i class="fa-solid fa-envelope icustom"></i>
                                                        </div>
                                                        <div>
                                                            <h4 class="mb-3 text-light">Email</h4>
                                                            <p class="mb-0">
                                                                <a class="link-light link-opacity-75 link-opacity-100-hover text-decoration-none" href="mailto:shop.empathywave@gmail.com">shop.empathywave@gmail.com</a>
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row gx-3">
                                                <div class="col-auto">
                                                    <a href="https://www.facebook.com" target="_blank" class="icon"><i class="fa-brands fa-facebook icustom"></i></a>
                                                </div>
                                                <div class="col-auto">
                                                    <a href="https://www.instagram.com" target="_blank" class="icon"><i class="fa-brands fa-instagram icustom"></i></a>

                                                </div>
                                                <div class="col-auto">
                                                    <a href="https://www.tiktok.com" target="_blank" class="icon"><i class="fa-brands fa-tiktok icustom"></i></a>
                                                </div>
                                                <div class="col-auto">
                                                    <a href="https://www.linkedin.com" target="_blank" class="icon"><i class="fa-brands fa-linkedin icustom"></i></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6">
                                <div class="p-4 p-md-5 p-xxl-6">
                                    @if (dataSent)
                                    {
                                        <div id="successAlert" class="alert alert-pink mt-3" role="alert">
                                            Your message has been sent successfully!
                                        </div>
                                    }
                                    <h3 class="mb-4 display-6 text-pink">Write to Us</h3>
                                    <EditForm Model="ContactFormModel" OnValidSubmit="SendData" FormName="contact">
                                        <DataAnnotationsValidator />
                                        <ValidationSummary />
                                        <div class="row">
                                            <div class="col-12 mb-4">
                                                <label for="fullName" class="form-label">Full Name:</label>
                                                <InputText id="fullName" class="form-control form-control-lg rounded-pill border-pink text-pink" @bind-Value="ContactFormModel.FullName" />
                                            </div>
                                            <div class="col-12 mb-4">
                                                <label for="email" class="form-label">Email:</label>
                                                <InputText id="email" class="form-control form-control-lg rounded-pill border-pink text-pink" @bind-Value="ContactFormModel.Email" />
                                            </div>
                                            <div class="col-12 mb-4">
                                                <label for="number" class="form-label">Phone Number:</label>
                                                <InputText id="number" class="form-control form-control-lg rounded-pill border-pink text-pink" @bind-Value="ContactFormModel.Phone" />
                                            </div>
                                            <div class="col-12 mb-4">
                                                <label for="subject" class="form-label">Subject:</label>
                                                <InputText id="subject" class="form-control form-control-lg rounded-pill border-pink text-pink" @bind-Value="ContactFormModel.Subject" />
                                            </div>
                                            <div class="col-12 mb-4">
                                                <label for="message" class="form-label">Message:</label>
                                                <InputTextArea id="message" class="form-control form-control-lg rounded-4 border-pink text-pink" @bind-Value="ContactFormModel.Message" />
                                            </div>
                                            <div class="col-12 text-end">
                                                <button type="submit" class="btn btn-pink btn-lg rounded-pill text-light">Send Message</button>
                                            </div>
                                        </div>
                                    </EditForm>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@code {
    private bool dataSent;
    private bool isLoading = false;

    [SupplyParameterFromForm]
    public ContactForm ContactFormModel { get; set; } = new();

    private async Task SendData()
    {
        isLoading = true;
        StateHasChanged();
        await ContactService.SendToEmail(ContactFormModel);
        dataSent = true;
        ContactFormModel = new ContactForm();
        isLoading = false;
        StateHasChanged();
    }
}


<style>
    .loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 9999;
}

.spinner {
    display: flex;
    gap: 10px;
}

.wave {
    width: 15px;
    height: 15px;
    background-color: pink;
    border-radius: 50%;
    animation: wave 1s infinite ease-in-out;
}

.wave1 {
    animation-delay: 0s;
}

.wave2 {
    animation-delay: 0.2s;
}

.wave3 {
    animation-delay: 0.4s;
}

@@keyframes wave {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-15px);
    }
}
    .alert-pink {
        background-color: #ff69b4; 
        color: white; 
        border: none;
        font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    }
    .text-pink {
        font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        color: #ff69b4;
    }

    .border-pink {
        border-color: #ff69b4 !important;
    }

    .btn-pink {
        background-color: #ff69b4;
        color: #fff;
        border: none;
        outline: none; 
    }

        .btn-pink:hover {
            background-color: #ff1493;
            color: #fff;
        }

        .btn-pink:focus {
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
            outline: none; 
            box-shadow: 0 0 0 0.2rem rgba(255, 105, 180, 0.5); 
        }

    .form-control.text-pink::placeholder {
        font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        color: #ff69b4;
        opacity: 0.7;
    }

    .form-control.text-pink {
        font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        color: #ff69b4;
        outline: none!important;
        box-shadow: none !important;
    }

        .form-control.text-pink:focus {
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
            outline: none !important;
            box-shadow: 0 0 0 0.2rem rgba(255, 105, 180, 0.5); 
        }
        .icustom{
         color: #ff69b4;
        }
</style>


